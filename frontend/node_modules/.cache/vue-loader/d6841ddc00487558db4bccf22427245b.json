{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/src/components/controlBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/src/components/controlBar.vue","mtime":1608910100837},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwR2V0dGVycywgbWFwQWN0aW9uc30gZnJvbSAndnVleCc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NvbnRyb2xCYXInLAogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgc2VsZWN0QWxsQWN0aXZlOiBmYWxzZSwKICAgIH0KICB9LAogIGNvbXB1dGVkOiBtYXBHZXR0ZXJzKFsnZ2V0VXNlcklkJywgJ2dldEFjdGl2ZUZvbGRlcicsICdnZXRFbWFpbHNMaXN0UGFnZUluZm8nLCAnZ2V0U3RhcnRJbmRleCddKSwKCW1ldGhvZHM6ewogICAgLi4ubWFwQWN0aW9ucyhbJ3VwZGF0ZUVtYWlscycsICdpbmNyZW1lbnRTdGFydEluZGV4JywgJ2RlY3JlbWVudFN0YXJ0SW5kZXgnXSksCgkJcmVmcmVzaCgpewogICAgICBjb25zdCBob21lUGFnZSA9IHN0b3JlLmdldHRlcnMuZ2V0SG9tZVBhZ2U7CiAgICAgIGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDo4MDgwLy9nZXRFbWFpbHNMaXN0YCwgewogICAgICAgIHBhcmFtczogeyAKICAgICAgICAgIHVzZXJJZDogdGhpcy5nZXRVc2VySWQsCiAgICAgICAgICBmb2xkZXJOYW1lOiB0aGlzLmdldEFjdGl2ZUZvbGRlciwKICAgICAgICAgIHNvcnRUeXBlOiAxLAogICAgICAgICAgc29ydElkbnRpZmllcjogMCwKICAgICAgICAgIHN0YXJ0OiAwLAogICAgICAgIH0KICAgICAgfSkKICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHsKICAgICAgICBob21lUGFnZS5yZXNldCgpOwogICAgICAgIGhvbWVQYWdlLmFkZEVtYWlscyhyZXNwb25zZS5kYXRhKTsKICAgICAgICB0aGlzLnVwZGF0ZUVtYWlscyhyZXNwb25zZS5kYXRhKTsKICAgICAgfSkKICAgICAgLmNhdGNoKCBlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpOyAKICAgIH0sCiAgICB0b2dnbGVTZWxlY3RBbGwoKXsKICAgICAgdGhpcy5zZWxlY3RBbGxBY3RpdmUgPSAhdGhpcy5zZWxlY3RBbGxBY3RpdmU7CiAgICAgIGlmKHRoaXMuc2VsZWN0QWxsQWN0aXZlKXsKICAgICAgICB0aGlzLnNlbGVjdEFsbEVtYWlscygpOwogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgdGhpcy51blNlbGVjdEFsbEVtYWlscygpOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0QWxsRW1haWxzKCl7CiAgICAgIHN0b3JlLmNvbW1pdCgnY2xlYXJTZWxlY3RlRW1haWxzJyk7CiAgICAgIGZvcihjb25zdCBlbWFpbCBvZiBbLi4udGhpcy5nZXRFbWFpbHNMaXN0UGFnZUluZm8uZW1haWxzTGlzdF0pewogICAgICAgIGVtYWlsLnNlbGVjdFNlbGYoKTsKICAgICAgICBzdG9yZS5jb21taXQoJ2FkZFNlbGVjdGVkRW1haWwnLCBlbWFpbCk7CiAgICAgIH0KICAgIH0sCiAgICB1blNlbGVjdEFsbEVtYWlscygpewogICAgICBmb3IoY29uc3QgZW1haWwgb2YgWy4uLnRoaXMuZ2V0RW1haWxzTGlzdFBhZ2VJbmZvLmVtYWlsc0xpc3RdKXsKICAgICAgICBlbWFpbC51blNlbGVjdFNlbGYoKTsKICAgICAgfQogICAgICBzdG9yZS5jb21taXQoJ2NsZWFyU2VsZWN0ZUVtYWlscycpOwogICAgfSwKICAgIGdvVG9OZXh0UGFnZSgpewogICAgICB0aGlzLmluY3JlbWVudFN0YXJ0SW5kZXgoKTsKICAgICAgdGhpcy51cGRhdGVFbWFpbHNMaXN0KCk7CiAgICB9LAogICAgZ29Ub1ByZXZQYWdlKCl7CiAgICAgIHRoaXMuZGVjcmVtZW50U3RhcnRJbmRleCgpOwogICAgICB0aGlzLnVwZGF0ZUVtYWlsc0xpc3QoKTsKICAgIH0sCiAgICB1cGRhdGVFbWFpbHNMaXN0KCl7CiAgICAgIGNvbnN0IGhvbWVQYWdlID0gc3RvcmUuZ2V0dGVycy5nZXRIb21lUGFnZTsKICAgICAgYXhpb3MuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjgwODAvL2dldEVtYWlsc0xpc3RgLCB7CiAgICAgICAgcGFyYW1zOiB7IAogICAgICAgICAgdXNlcklkOiB0aGlzLmdldFVzZXJJZCwKICAgICAgICAgIGZvbGRlck5hbWU6IHRoaXMuZ2V0QWN0aXZlRm9sZGVyLAogICAgICAgICAgc29ydFR5cGU6IDEsCiAgICAgICAgICBzb3J0SWRudGlmaWVyOiAwLAogICAgICAgICAgc3RhcnQ6IHRoaXMuZ2V0U3RhcnRJbmRleCwKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC50aGVuKCByZXNwb25zZSA9PiB7CiAgICAgICAgaG9tZVBhZ2UucmVzZXQoKTsKICAgICAgICBob21lUGFnZS5hZGRFbWFpbHMocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgdGhpcy51cGRhdGVFbWFpbHMocmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pCiAgICAgIC5jYXRjaCggZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTsgCiAgICB9Cgl9Cn0K"},{"version":3,"sources":["controlBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controlBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"control-bar\">\n\t\t<div id=\"refresh-btn\" class=\"control-btn\" @click=\"refresh()\">\n\t\t\t<img src=\"../assets/controlBar/refresh-gray.png\" width=\"20px\">\n\t\t</div>\n\t\t<form id=\"select-all-container\">\n\t\t\t<input type=\"checkbox\" id=\"select-all\" \n            :value=\"[selectAllActive ? 'Un-select all' : 'Select all']\" \n            @change=\"toggleSelectAll()\">\n\t\t\t<label for=\"select-all\">Select all</label>\n\t\t</form>\n\t\t<div id=\"emails-nav\">\n\t\t\t<div id=\"backward-btn\" class=\"control-btn\" @click=\"goToPrevPage()\">\n\t\t\t\t<img src=\"../assets/controlBar/backward.png\" width=\"17px\">\n\t\t\t</div>\n\t\t\t<div id=\"forward-btn\" class=\"control-btn\" @click=\"goToNextPage()\">\n\t\t\t\t<img src=\"../assets/controlBar/forward.png\" width=\"17px\">\n\t\t\t</div>\n\t\t</div>\n  </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions} from 'vuex';\nimport store from '../store';\nimport axios from 'axios';\n\nexport default {\n  name: 'controlBar',\n  data(){\n    return{\n      selectAllActive: false,\n    }\n  },\n  computed: mapGetters(['getUserId', 'getActiveFolder', 'getEmailsListPageInfo', 'getStartIndex']),\n\tmethods:{\n    ...mapActions(['updateEmails', 'incrementStartIndex', 'decrementStartIndex']),\n\t\trefresh(){\n      const homePage = store.getters.getHomePage;\n      axios.get(`http://localhost:8080//getEmailsList`, {\n        params: { \n          userId: this.getUserId,\n          folderName: this.getActiveFolder,\n          sortType: 1,\n          sortIdntifier: 0,\n          start: 0,\n        }\n      })\n      .then( response => {\n        homePage.reset();\n        homePage.addEmails(response.data);\n        this.updateEmails(response.data);\n      })\n      .catch( error => console.log(error)); \n    },\n    toggleSelectAll(){\n      this.selectAllActive = !this.selectAllActive;\n      if(this.selectAllActive){\n        this.selectAllEmails();\n      }\n      else{\n        this.unSelectAllEmails();\n      }\n    },\n    selectAllEmails(){\n      store.commit('clearSelecteEmails');\n      for(const email of [...this.getEmailsListPageInfo.emailsList]){\n        email.selectSelf();\n        store.commit('addSelectedEmail', email);\n      }\n    },\n    unSelectAllEmails(){\n      for(const email of [...this.getEmailsListPageInfo.emailsList]){\n        email.unSelectSelf();\n      }\n      store.commit('clearSelecteEmails');\n    },\n    goToNextPage(){\n      this.incrementStartIndex();\n      this.updateEmailsList();\n    },\n    goToPrevPage(){\n      this.decrementStartIndex();\n      this.updateEmailsList();\n    },\n    updateEmailsList(){\n      const homePage = store.getters.getHomePage;\n      axios.get(`http://localhost:8080//getEmailsList`, {\n        params: { \n          userId: this.getUserId,\n          folderName: this.getActiveFolder,\n          sortType: 1,\n          sortIdntifier: 0,\n          start: this.getStartIndex,\n        }\n      })\n      .then( response => {\n        homePage.reset();\n        homePage.addEmails(response.data);\n        this.updateEmails(response.data);\n      })\n      .catch( error => console.log(error)); \n    }\n\t}\n}\n</script>\n\n<style scoped>\n#control-bar{\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-start;\n\talign-items: center;\n\theight: 3rem;\n\tborder-bottom: 1px solid rgb(224, 224, 224, 0.6);\n\tpadding-left: 1rem;\n}\n.control-btn{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 2rem;\n\twidth: 2rem;\n\tborder-radius: 50%;\n}\n.control-btn:hover{\n\tbackground-color: rgb(224, 224, 224, 0.6);\n}\n#emails-nav{\n\theight: 2rem;\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n\talign-items: center;\n\twidth: 5rem;\n\tmargin-left: auto;\n\tmargin-right: 2rem;\n}\n\ninput[type=checkbox] + label {\n  display: block;\n\tuser-select: none;\n}\n\ninput[type=checkbox] {\n  display: none;\n}\nlabel{\n\tcolor: #767676;\n\tfont-size: medium;\n\tfont-weight: normal;\n}\n\ninput[type=checkbox] + label:before {\n  content: \"\\2714\";\n  border: 2px solid #767676;\n  border-radius: 0.3rem;\n  display: inline-block;\n  width: 0.8rem;\n  height: 0.8rem;\n  padding: 0.2rem;\n  margin-right: 0.4rem;\n  vertical-align: bottom;\n  color: transparent;\n  transition: .2s;\n}\n\ninput[type=checkbox] + label:active:before {\n  transform: scale(0);\n}\n\ninput[type=checkbox]:checked + label:before {\n  background-color: #3474E0;\n  border-color: #3474E0;\n}\n\ninput[type=checkbox]:disabled + label:before {\n  transform: scale(1);\n  border-color: #767676;\n}\n\ninput[type=checkbox]:checked:disabled + label:before {\n  transform: scale(1);\n  background-color: #3474E0;\n  border-color: #3474E0;\n}\n\n#select-all-container{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin-left: 1.5rem;\n}\n</style>"]}]}