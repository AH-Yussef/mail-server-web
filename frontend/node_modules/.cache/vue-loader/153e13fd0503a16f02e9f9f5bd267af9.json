{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/src/components/controlBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/src/components/controlBar.vue","mtime":1609011537727},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwR2V0dGVycywgbWFwQWN0aW9uc30gZnJvbSAndnVleCc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7ZmlyZUluZm9Qb3BVcH0gZnJvbSAnLi4vYWxlcnRzLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjb250cm9sQmFyJywKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIHNlbGVjdEFsbEFjdGl2ZTogZmFsc2UsCiAgICB9CiAgfSwKICBjb21wdXRlZDogbWFwR2V0dGVycyhbJ2dldFVzZXJJZCcsICdnZXRBY3RpdmVGb2xkZXInLCAnZ2V0RW1haWxzTGlzdFBhZ2VJbmZvJywgJ2dldFN0YXJ0SW5kZXgnLCAnZ2V0RW1haWxzTnVtJywgJ2dldEFjdGl2ZVN0YXR1cycsICdnZXRTb3J0aW5nUGFyYW0nLCAnZ2V0U2VsZWN0ZWRFbWFpbHMnXSksCgltZXRob2RzOnsKICAgIC4uLm1hcEFjdGlvbnMoWyd1cGRhdGVFbWFpbHMnLCAnaW5jcmVtZW50U3RhcnRJbmRleCcsICdkZWNyZW1lbnRTdGFydEluZGV4J10pLAoJCXJlZnJlc2goKXsKICAgICAgY29uc3QgaG9tZVBhZ2UgPSBzdG9yZS5nZXR0ZXJzLmdldEhvbWVQYWdlOwogICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC8vZ2V0RW1haWxzTGlzdGAsIHsKICAgICAgICBwYXJhbXM6IHsgCiAgICAgICAgICB1c2VySWQ6IHRoaXMuZ2V0VXNlcklkLAogICAgICAgICAgZm9sZGVyTmFtZTogdGhpcy5nZXRBY3RpdmVGb2xkZXIsCiAgICAgICAgICBzb3J0VHlwZTogdGhpcy5nZXRTb3J0aW5nUGFyYW0uc29ydFR5cGUsCiAgICAgICAgICBzb3J0SWRudGlmaWVyOiB0aGlzLmdldFNvcnRpbmdQYXJhbS5zb3J0SWRudGlmaWVyLAogICAgICAgICAgc3RhcnQ6IDAsCiAgICAgICAgfQogICAgICB9KQogICAgICAudGhlbiggcmVzcG9uc2UgPT4gewogICAgICAgIGhvbWVQYWdlLnJlc2V0KCk7CiAgICAgICAgaG9tZVBhZ2UuYWRkRW1haWxzKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIHRoaXMudXBkYXRlRW1haWxzKHJlc3BvbnNlLmRhdGEpOwogICAgICB9KQogICAgICAuY2F0Y2goIGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSk7IAogICAgfSwKICAgIHRvZ2dsZVNlbGVjdEFsbCgpewogICAgICB0aGlzLnNlbGVjdEFsbEFjdGl2ZSA9ICF0aGlzLnNlbGVjdEFsbEFjdGl2ZTsKICAgICAgaWYodGhpcy5zZWxlY3RBbGxBY3RpdmUpewogICAgICAgIHRoaXMuc2VsZWN0QWxsRW1haWxzKCk7CiAgICAgIH0KICAgICAgZWxzZXsKICAgICAgICB0aGlzLnVuU2VsZWN0QWxsRW1haWxzKCk7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3RBbGxFbWFpbHMoKXsKICAgICAgc3RvcmUuY29tbWl0KCdjbGVhclNlbGVjdGVFbWFpbHMnKTsKICAgICAgZm9yKGNvbnN0IGVtYWlsIG9mIFsuLi50aGlzLmdldEVtYWlsc0xpc3RQYWdlSW5mby5lbWFpbHNMaXN0XSl7CiAgICAgICAgZW1haWwuc2VsZWN0U2VsZigpOwogICAgICAgIC8vIHN0b3JlLmNvbW1pdCgnYWRkU2VsZWN0ZWRFbWFpbCcsIGVtYWlsKTsKICAgICAgfQogICAgfSwKICAgIHVuU2VsZWN0QWxsRW1haWxzKCl7CiAgICAgIGZvcihjb25zdCBlbWFpbCBvZiBbLi4udGhpcy5nZXRFbWFpbHNMaXN0UGFnZUluZm8uZW1haWxzTGlzdF0pewogICAgICAgIGVtYWlsLnVuU2VsZWN0U2VsZigpOwogICAgICB9CiAgICAgIHN0b3JlLmNvbW1pdCgnY2xlYXJTZWxlY3RlRW1haWxzJyk7CiAgICB9LAogICAgZ29Ub05leHRQYWdlKCl7CiAgICAgIGlmKHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLmFjdGl2ZSkgewogICAgICAgIGlmKHN0b3JlLmdldHRlcnMuZ2V0T3BzQ29uZHMuZmlsdGVyKSB0aGlzLmdldE5leHRGaWx0ZXJlZCgpOwogICAgICAgIGVsc2UgaWYoc3RvcmUuZ2V0dGVycy5nZXRPcHNDb25kcy5zb3J0KSB0aGlzLmdldE5leHRTb3J0ZWQoKTsKICAgICAgICBlbHNlIGlmKHN0b3JlLmdldHRlcnMuZ2V0T3BzQ29uZHMuc2VhcmNoKSB0aGlzLmdldE5leHRTZWFyY2goKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYodGhpcy5nZXRTdGFydEluZGV4ICsgMTUgPj0gdGhpcy5nZXRFbWFpbHNOdW0pIHJldHVybjsKICAgICAgdGhpcy5pbmNyZW1lbnRTdGFydEluZGV4KCk7CiAgICAgIHRoaXMudXBkYXRlRW1haWxzTGlzdCgpOwogICAgfSwKICAgIGdvVG9QcmV2UGFnZSgpewogICAgICBpZihzdG9yZS5nZXR0ZXJzLmdldFN1Yk9wZXJhdGlvbi5hY3RpdmUpIHsKICAgICAgICBpZihzdG9yZS5nZXR0ZXJzLmdldE9wc0NvbmRzLmZpbHRlcikgdGhpcy5nZXRQcmV2RmlsdGVyZWQoKTsKICAgICAgICBlbHNlIGlmKHN0b3JlLmdldHRlcnMuZ2V0T3BzQ29uZHMuc29ydCkgdGhpcy5nZXRQcmV2U29ydGVkKCk7CiAgICAgICAgZWxzZSBpZihzdG9yZS5nZXR0ZXJzLmdldE9wc0NvbmRzLnNlYXJjaCkgdGhpcy5nZXRQcmV2U2VhcmNoKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmKHRoaXMuZ2V0U3RhcnRJbmRleCAtIDE1IDwgMCkgcmV0dXJuOyAKICAgICAgdGhpcy5kZWNyZW1lbnRTdGFydEluZGV4KCk7CiAgICAgIHRoaXMudXBkYXRlRW1haWxzTGlzdCgpOwogICAgfSwKICAgIGdldE5leHRGaWx0ZXJlZCgpewogICAgICBpZihzdG9yZS5nZXR0ZXJzLmdldFN1Yk9wZXJhdGlvbi5zdGFydCArIDE1ID49IHRoaXMuZ2V0RW1haWxzTnVtKSByZXR1cm47CiAgICAgIHN0b3JlLmNvbW1pdCgnc2V0U3ViT3BTdGFydCcsIHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnN0YXJ0ICsgMTUpOwogICAgICB0aGlzLmZldGNoRmlsdGVyZWRFbWFpbHMoKQogICAgfSwKICAgIGdldFByZXZGaWx0ZXJlZCgpewogICAgICBpZihzdG9yZS5nZXR0ZXJzLmdldFN1Yk9wZXJhdGlvbi5zdGFydCAtIDE1IDwgMCkgcmV0dXJuOwogICAgICBzdG9yZS5jb21taXQoJ3NldFN1Yk9wU3RhcnQnLCBzdG9yZS5nZXR0ZXJzLmdldFN1Yk9wZXJhdGlvbi5zdGFydCAtIDE1KTsKICAgICAgdGhpcy5mZXRjaEZpbHRlcmVkRW1haWxzKCkKICAgIH0sCiAgICBnZXROZXh0U29ydGVkKCl7CiAgICAgIGlmKHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnN0YXJ0ICsgMTUgPj0gdGhpcy5nZXRFbWFpbHNOdW0pIHJldHVybjsKICAgICAgc3RvcmUuY29tbWl0KCdzZXRTdWJPcFN0YXJ0Jywgc3RvcmUuZ2V0dGVycy5nZXRTdWJPcGVyYXRpb24uc3RhcnQgKyAxNSk7CiAgICAgIHRoaXMuZmV0Y2hTb3J0ZWRFbWFpbHMoKTsKICAgIH0sCiAgICBnZXRQcmV2U29ydGVkKCl7CiAgICAgIGlmKHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnN0YXJ0IC0gMTUgPCAwKSByZXR1cm47CiAgICAgIHN0b3JlLmNvbW1pdCgnc2V0U3ViT3BTdGFydCcsIHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnN0YXJ0IC0gMTUpOyAgIAogICAgICB0aGlzLmZldGNoU29ydGVkRW1haWxzKCk7IAogICAgfSwKICAgIGdldE5leHRTZWFyY2goKXsKICAgICAgaWYoc3RvcmUuZ2V0dGVycy5nZXRTdWJPcGVyYXRpb24uc3RhcnQgKyAxNSA+PSB0aGlzLmdldEVtYWlsc051bSkgcmV0dXJuOwogICAgICBzdG9yZS5jb21taXQoJ3NldFN1Yk9wU3RhcnQnLCBzdG9yZS5nZXR0ZXJzLmdldFN1Yk9wZXJhdGlvbi5zdGFydCArIDE1KTsKICAgICAgdGhpcy5mZXRjaFNlYXJjaGVkRW1haWwoKTsKICAgIH0sCiAgICBnZXRQcmV2U2VhcmNoKCl7CiAgICAgIGlmKHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnN0YXJ0IC0gMTUgPCAwKSByZXR1cm47CiAgICAgIHN0b3JlLmNvbW1pdCgnc2V0U3ViT3BTdGFydCcsIHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnN0YXJ0IC0gMTUpOyAgIAogICAgICB0aGlzLmZldGNoU2VhcmNoZWRFbWFpbCgpOyAKICAgIH0sCiAgICBmZXRjaEZpbHRlcmVkRW1haWxzKCl7CiAgICAgIGNvbnN0IGhvbWVQYWdlID0gc3RvcmUuZ2V0dGVycy5nZXRIb21lUGFnZTsKICAgICAgYXhpb3MuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjgwODAvL2ZpbHRlcmAsIHsKICAgICAgICBwYXJhbXM6IHsgCiAgICAgICAgICB1c2VySWQ6IHRoaXMuZ2V0VXNlcklkLAogICAgICAgICAgcmVxdWlyZWQ6IHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnJlcXVpcmVkLAogICAgICAgICAgZmlsZU5hbWU6IHRoaXMuZ2V0QWN0aXZlRm9sZGVyLAogICAgICAgICAgY3JpdGVyaWE6IHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnR5cGUsCiAgICAgICAgfQogICAgICB9KQogICAgICAudGhlbiggcmVzcG9uc2UgPT4gewogICAgICAgIGhvbWVQYWdlLnJlc2V0KCk7CiAgICAgICAgY29uc3QgZmlsdGVyZWRFbWFpbHMgPSByZXNwb25zZS5kYXRhLnNsaWNlKHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnN0YXJ0LCBzdG9yZS5nZXR0ZXJzLmdldFN1Yk9wZXJhdGlvbi5zdGFydCArMTUpOwogICAgICAgIGhvbWVQYWdlLmFkZEVtYWlscyhmaWx0ZXJlZEVtYWlscyk7CiAgICAgICAgdGhpcy51cGRhdGVFbWFpbHMoZmlsdGVyZWRFbWFpbHMpOwogICAgICB9KQogICAgICAuY2F0Y2goIGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSk7IAogICAgfSwKICAgIGZldGNoU29ydGVkRW1haWxzKCl7CiAgICAgIGNvbnN0IGhvbWVQYWdlID0gc3RvcmUuZ2V0dGVycy5nZXRIb21lUGFnZTsKICAgICAgYXhpb3MuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjgwODAvL3NvcnRgLCB7CiAgICAgICAgcGFyYW1zOiB7IAogICAgICAgICAgdXNlcklkOiBzdG9yZS5nZXR0ZXJzLmdldFVzZXJJZCwKICAgICAgICAgIGZvbGRlck5hbWU6IHN0b3JlLmdldHRlcnMuZ2V0QWN0aXZlRm9sZGVyLAogICAgICAgICAgc29ydFR5cGU6IHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnNvcnRUeXBlLAogICAgICAgICAgc29ydElkbnRpZmllcjogc3RvcmUuZ2V0dGVycy5nZXRTdWJPcGVyYXRpb24uc29ydElkbnRpZmllciwKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC50aGVuKCByZXNwb25zZSA9PiB7CiAgICAgICAgaG9tZVBhZ2UucmVzZXQoKTsKICAgICAgICBjb25zdCBzb3J0ZWRFbWFpbHMgPSByZXNwb25zZS5kYXRhLnNsaWNlKHN0b3JlLmdldHRlcnMuZ2V0U3ViT3BlcmF0aW9uLnN0YXJ0LCBzdG9yZS5nZXR0ZXJzLmdldFN1Yk9wZXJhdGlvbi5zdGFydCArMTUpOwogICAgICAgIGhvbWVQYWdlLmFkZEVtYWlscyhzb3J0ZWRFbWFpbHMpOwogICAgICAgIHRoaXMudXBkYXRlRW1haWxzKHNvcnRlZEVtYWlscyk7CiAgICAgIH0pCiAgICAgIC5jYXRjaCggZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTsgCiAgICB9LAogICAgZmV0Y2hTZWFyY2hlZEVtYWlsKCl7CiAgICAgIGNvbnN0IGhvbWVQYWdlID0gc3RvcmUuZ2V0dGVycy5nZXRIb21lUGFnZTsKICAgICAgYXhpb3MuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjgwODAvL3NlYXJjaEZpbGVgLCB7CiAgICAgICAgcGFyYW1zOiB7IAogICAgICAgICAgdXNlcklkOiBzdG9yZS5nZXR0ZXJzLmdldFVzZXJJZCwKICAgICAgICAgIHJlcXVpcmVkOiBzdG9yZS5nZXR0ZXJzLmdldFN1Yk9wZXJhdGlvbi53b3JkLAogICAgICAgICAgZm9sZGVyTmFtZTogc3RvcmUuZ2V0dGVycy5nZXRBY3RpdmVGb2xkZXIsCiAgICAgICAgICBjcml0ZXJpYTogc3RvcmUuZ2V0dGVycy5nZXRTdWJPcGVyYXRpb24uc2VhcmNoQnksCiAgICAgICAgfQogICAgICB9KQogICAgICAudGhlbiggcmVzcG9uc2UgPT4gewogICAgICAgIGhvbWVQYWdlLnJlc2V0KCk7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzcG9uc2UuZGF0YS5zbGljZShzdG9yZS5nZXR0ZXJzLmdldFN1Yk9wZXJhdGlvbi5zdGFydCwgc3RvcmUuZ2V0dGVycy5nZXRTdWJPcGVyYXRpb24uc3RhcnQgKzE1KTsKICAgICAgICBob21lUGFnZS5hZGRFbWFpbHMocmVzdWx0KTsKICAgICAgICB0aGlzLnVwZGF0ZUVtYWlscyhyZXN1bHQpOwogICAgICB9KQogICAgICAuY2F0Y2goIGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSk7IAogICAgfSwKICAgIHVwZGF0ZUVtYWlsc0xpc3QoKXsKICAgICAgY29uc3QgaG9tZVBhZ2UgPSBzdG9yZS5nZXR0ZXJzLmdldEhvbWVQYWdlOwogICAgICBheGlvcy5nZXQoYGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC8vZ2V0RW1haWxzTGlzdGAsIHsKICAgICAgICBwYXJhbXM6IHsgCiAgICAgICAgICB1c2VySWQ6IHRoaXMuZ2V0VXNlcklkLAogICAgICAgICAgZm9sZGVyTmFtZTogdGhpcy5nZXRBY3RpdmVGb2xkZXIsCiAgICAgICAgICBzb3J0VHlwZTogMSwKICAgICAgICAgIHNvcnRJZG50aWZpZXI6IDAsCiAgICAgICAgICBzdGFydDogdGhpcy5nZXRTdGFydEluZGV4LAogICAgICAgIH0KICAgICAgfSkKICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHsKICAgICAgICBob21lUGFnZS5yZXNldCgpOwogICAgICAgIGhvbWVQYWdlLmFkZEVtYWlscyhyZXNwb25zZS5kYXRhKTsKICAgICAgICB0aGlzLnVwZGF0ZUVtYWlscyhyZXNwb25zZS5kYXRhKTsKICAgICAgfSkKICAgICAgLmNhdGNoKCBlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpOyAKICAgIH0sCiAgICBnb0JhY2tIb21lKCl7CiAgICAgIHN0b3JlLmNvbW1pdCgnc2V0QWN0aXZlRW1haWwnLCBmYWxzZSkKICAgIH0sCiAgICBkZWxldGVDdXJyZW50RW1haWxzKCl7CiAgICAgIGNvbnN0IHNlbGVjdGVkRW1haWxzTnVtYmVyID0gdGhpcy5nZXRTZWxlY3RlZEVtYWlscy5sZW5ndGg7CiAgICAgIGNvbnNvbGUubG9nKHNlbGVjdGVkRW1haWxzTnVtYmVyKTsKICAgICAgaWYoc2VsZWN0ZWRFbWFpbHNOdW1iZXIgPT09IDApIHJldHVybjsKICAgICAgY29uc29sZS5sb2coImVudGVyIikKCiAgICAgIGNvbnN0IHBvcFVwQmFja2dyb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBwb3BVcEJhY2tncm91bmQuY2xhc3NOYW1lID0gJ3BvcC11cC1iYWNrZ3JvdW5kJzsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwb3BVcEJhY2tncm91bmQpOwoKICAgICAgY29uc3QgcG9wVXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgcG9wVXAuY2xhc3NOYW1lID0gJ3BvcC11cCc7CiAgICAgIHBvcFVwQmFja2dyb3VuZC5hcHBlbmRDaGlsZChwb3BVcCk7CgogICAgICBjb25zdCBtc2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpOwogICAgICBpZihzdG9yZS5nZXR0ZXJzLmdldEFjdGl2ZUZvbGRlciA9PSAidHJhc2giKSBtc2cuaW5uZXJUZXh0ID0gYCR7c2VsZWN0ZWRFbWFpbHNOdW1iZXJ9IHdpbGwgYmUgZGVsZXRlZCBwZXJtYW5lbnRseWA7CiAgICAgIGVsc2UgbXNnLmlubmVyVGV4dCA9IGBTdXJlIHRvIG1vdmUgJHtzZWxlY3RlZEVtYWlsc051bWJlcn0gZW1haWwocykgdG8gVHJhc2g/YDsKICAgICAgcG9wVXAuYXBwZW5kQ2hpbGQobXNnKTsKCiAgICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgY2FuY2VsQnRuLmlubmVyVGV4dCA9ICdDYW5jZWwnOwogICAgICBjYW5jZWxCdG4uY2xhc3NOYW1lID0gJ3BvcC11cC1jbG9zZS1idXR0b24gY2FuY2VsLWJ0bic7CgogICAgICBjb25zdCBjb25mcmltQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgICBjb25mcmltQnRuLmlubmVyVGV4dCA9ICdDb25maXJtJzsKICAgICAgY29uZnJpbUJ0bi5jbGFzc05hbWUgPSAncG9wLXVwLWNsb3NlLWJ1dHRvbiBjb25mcmltLWJ0bic7ICAgCgogICAgICBjYW5jZWxCdG4ub25jbGljayA9ICgpID0+IHsgICAgCiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwb3BVcEJhY2tncm91bmQpOyAKICAgICAgfQoKICAgICAgY29uZnJpbUJ0bi5vbmNsaWNrID0gKCkgPT4gewogICAgICAgIGlmKHN0b3JlLmdldHRlcnMuZ2V0QWN0aXZlRm9sZGVyICE9ICJ0cmFzaCIpIHsKICAgICAgICAgIHRoaXMuZGVsZXRlQWxsU2VsZWN0ZWRFbWFpbHMoKTsKICAgICAgICAgIGZpcmVJbmZvUG9wVXAoYCR7c2VsZWN0ZWRFbWFpbHNOdW1iZXJ9IGVtYWlsKHMpIGhhcyBiZWVuIG1vdmVkIHRvIHRyYXNoYCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgdGhpcy5kZWxldGVBbGxTZWxlY3RlZEVtYWlsc0ZvcmV2ZXIoKTsKICAgICAgICAgIGZpcmVJbmZvUG9wVXAoYCR7c2VsZWN0ZWRFbWFpbHNOdW1iZXJ9IGVtYWlsKHMpIGhhcyBiZWVuIGRlbGV0ZWQgcGVybWFuZW50bHlgKTsKICAgICAgICB9CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwb3BVcEJhY2tncm91bmQpOyAKICAgICAgfQoKICAgICAgcG9wVXAuYXBwZW5kQ2hpbGQoY2FuY2VsQnRuKTsKICAgICAgcG9wVXAuYXBwZW5kQ2hpbGQoY29uZnJpbUJ0bik7CiAgICB9LAoKICAgIGRlbGV0ZUFsbFNlbGVjdGVkRW1haWxzRm9yZXZlcigpewogICAgICBmb3IoY29uc3QgZW1haWwgb2YgdGhpcy5nZXRTZWxlY3RlZEVtYWlscyl7CiAgICAgICAgY29uc29sZS5sb2coZW1haWwpOwogICAgICAgIHRoaXMuZGVsZXRlU2luZ2xlRW1haWxGb3JFdmVyKGVtYWlsKTsKICAgICAgfQogICAgICBzdG9yZS5jb21taXQoJ2NsZWFyU2VsZWN0ZUVtYWlscycpOwogICAgfSwKICAgIGRlbGV0ZUFsbFNlbGVjdGVkRW1haWxzKCl7CiAgICAgIGxldCBhbGxFbWFpbHNJZHMgPSAiIjsKICAgICAgbGV0IGZpcnN0ID0gdHJ1ZTsKICAgICAgZm9yKGNvbnN0IGVtYWlsIG9mIHRoaXMuZ2V0U2VsZWN0ZWRFbWFpbHMpewogICAgICAgIGlmKGZpcnN0KXsKICAgICAgICAgIGFsbEVtYWlsc0lkcyArPSBgJHtlbWFpbC5nZXRJZCgpfWA7CiAgICAgICAgICBmaXJzdCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBlbHNlIGFsbEVtYWlsc0lkcyArPSBgLCR7ZW1haWwuZ2V0SWQoKX1gOwogICAgICB9CgogICAgICBheGlvcy5kZWxldGUoYGh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC8vZGVsZXRlTXVsdGlwbGVFbWFpbHNgLHsKICAgICAgICAgIHBhcmFtczogeyAKICAgICAgICAgICAgdXNlcklkOiBzdG9yZS5nZXR0ZXJzLmdldFVzZXJJZCwKICAgICAgICAgICAgZW1haWxzSWRzOiBhbGxFbWFpbHNJZHMsCiAgICAgICAgICAgIGZvbGRlck5hbWU6IHN0b3JlLmdldHRlcnMuZ2V0QWN0aXZlRm9sZGVyLAogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLnRoZW4oICgpID0+IHsKICAgICAgICAgIHN0b3JlLmNvbW1pdCgnY2xlYXJTZWxlY3RlRW1haWxzJyk7CiAgICAgICAgICB0aGlzLnJlZnJlc2goKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCggZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTsgCiAgICB9LAogICAgZGVsZXRlU2luZ2xlRW1haWxGb3JFdmVyKGVtYWlsKXsKICAgICAgYXhpb3MuZGVsZXRlKGBodHRwOi8vbG9jYWxob3N0OjgwODAvL2RlbGV0ZUZvcmV2ZXJgLHsKICAgICAgICAgIHBhcmFtczogeyAKICAgICAgICAgICAgdXNlcklkOiBzdG9yZS5nZXR0ZXJzLmdldFVzZXJJZCwKICAgICAgICAgICAgZW1haWxJZDogZW1haWwuZ2V0SWQoKSwKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC50aGVuKCAoKSA9PiB7CiAgICAgICAgICB0aGlzLnJlZnJlc2goKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCggZXJyb3IgPT4gY29uc29sZS5sb2coZXJyb3IpKTsgCiAgICB9LAoJfQp9Cg=="},{"version":3,"sources":["controlBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controlBar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"control-bar\">\n\n    <div id=\"control-wrapper\" :class=\"['control-wrapper', getActiveStatus ? 'hidden': 'visible']\">\n      <div id=\"refresh-btn\" class=\"control-btn\" @click=\"refresh()\">\n        <img src=\"../assets/controlBar/refresh-gray.png\" width=\"20px\">\n      </div>\n      <form id=\"select-all-container\">\n        <input type=\"checkbox\" id=\"select-all\" \n              :value=\"[selectAllActive ? 'Un-select all' : 'Select all']\" \n              @change=\"toggleSelectAll()\">\n        <label for=\"select-all\">Select all</label>\n      </form>\n      <div id=\"delete-selected-emails\" class=\"control-btn\" @click=\"deleteCurrentEmails()\">\n        <img src=\"../assets/sideMenu/trash-gray.png\" width=\"20px\">\n      </div>\n      <div id=\"emails-nav\">\n        <div id=\"backward-btn\" class=\"control-btn\" @click=\"goToPrevPage()\">\n          <img src=\"../assets/controlBar/backward.png\" width=\"17px\">\n        </div>\n        <div id=\"forward-btn\" class=\"control-btn\" @click=\"goToNextPage()\">\n          <img src=\"../assets/controlBar/forward.png\" width=\"17px\">\n        </div>\n      </div>\n    </div>\n    \n    <div id=\"current-email-control\" :class=\"['control-wrapper', getActiveStatus? 'visible': 'hidden']\">\n      <div id=\"go-back\" class=\"control-btn\" @click=\"goBackHome()\">\n        <img src=\"../assets/header/back.png\" width=\"20px\">\n      </div>\n      <div id=\"delete-current-email\" class=\"control-btn\">\n        <img src=\"../assets/sideMenu/trash-gray.png\" width=\"20px\">\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport {mapGetters, mapActions} from 'vuex';\nimport store from '../store';\nimport axios from 'axios';\nimport {fireInfoPopUp} from '../alerts.js';\nexport default {\n  name: 'controlBar',\n  data(){\n    return{\n      selectAllActive: false,\n    }\n  },\n  computed: mapGetters(['getUserId', 'getActiveFolder', 'getEmailsListPageInfo', 'getStartIndex', 'getEmailsNum', 'getActiveStatus', 'getSortingParam', 'getSelectedEmails']),\n\tmethods:{\n    ...mapActions(['updateEmails', 'incrementStartIndex', 'decrementStartIndex']),\n\t\trefresh(){\n      const homePage = store.getters.getHomePage;\n      axios.get(`http://localhost:8080//getEmailsList`, {\n        params: { \n          userId: this.getUserId,\n          folderName: this.getActiveFolder,\n          sortType: this.getSortingParam.sortType,\n          sortIdntifier: this.getSortingParam.sortIdntifier,\n          start: 0,\n        }\n      })\n      .then( response => {\n        homePage.reset();\n        homePage.addEmails(response.data);\n        this.updateEmails(response.data);\n      })\n      .catch( error => console.log(error)); \n    },\n    toggleSelectAll(){\n      this.selectAllActive = !this.selectAllActive;\n      if(this.selectAllActive){\n        this.selectAllEmails();\n      }\n      else{\n        this.unSelectAllEmails();\n      }\n    },\n    selectAllEmails(){\n      store.commit('clearSelecteEmails');\n      for(const email of [...this.getEmailsListPageInfo.emailsList]){\n        email.selectSelf();\n        // store.commit('addSelectedEmail', email);\n      }\n    },\n    unSelectAllEmails(){\n      for(const email of [...this.getEmailsListPageInfo.emailsList]){\n        email.unSelectSelf();\n      }\n      store.commit('clearSelecteEmails');\n    },\n    goToNextPage(){\n      if(store.getters.getSubOperation.active) {\n        if(store.getters.getOpsConds.filter) this.getNextFiltered();\n        else if(store.getters.getOpsConds.sort) this.getNextSorted();\n        else if(store.getters.getOpsConds.search) this.getNextSearch();\n        return;\n      }\n      if(this.getStartIndex + 15 >= this.getEmailsNum) return;\n      this.incrementStartIndex();\n      this.updateEmailsList();\n    },\n    goToPrevPage(){\n      if(store.getters.getSubOperation.active) {\n        if(store.getters.getOpsConds.filter) this.getPrevFiltered();\n        else if(store.getters.getOpsConds.sort) this.getPrevSorted();\n        else if(store.getters.getOpsConds.search) this.getPrevSearch();\n        return;\n      }\n      if(this.getStartIndex - 15 < 0) return; \n      this.decrementStartIndex();\n      this.updateEmailsList();\n    },\n    getNextFiltered(){\n      if(store.getters.getSubOperation.start + 15 >= this.getEmailsNum) return;\n      store.commit('setSubOpStart', store.getters.getSubOperation.start + 15);\n      this.fetchFilteredEmails()\n    },\n    getPrevFiltered(){\n      if(store.getters.getSubOperation.start - 15 < 0) return;\n      store.commit('setSubOpStart', store.getters.getSubOperation.start - 15);\n      this.fetchFilteredEmails()\n    },\n    getNextSorted(){\n      if(store.getters.getSubOperation.start + 15 >= this.getEmailsNum) return;\n      store.commit('setSubOpStart', store.getters.getSubOperation.start + 15);\n      this.fetchSortedEmails();\n    },\n    getPrevSorted(){\n      if(store.getters.getSubOperation.start - 15 < 0) return;\n      store.commit('setSubOpStart', store.getters.getSubOperation.start - 15);   \n      this.fetchSortedEmails(); \n    },\n    getNextSearch(){\n      if(store.getters.getSubOperation.start + 15 >= this.getEmailsNum) return;\n      store.commit('setSubOpStart', store.getters.getSubOperation.start + 15);\n      this.fetchSearchedEmail();\n    },\n    getPrevSearch(){\n      if(store.getters.getSubOperation.start - 15 < 0) return;\n      store.commit('setSubOpStart', store.getters.getSubOperation.start - 15);   \n      this.fetchSearchedEmail(); \n    },\n    fetchFilteredEmails(){\n      const homePage = store.getters.getHomePage;\n      axios.get(`http://localhost:8080//filter`, {\n        params: { \n          userId: this.getUserId,\n          required: store.getters.getSubOperation.required,\n          fileName: this.getActiveFolder,\n          criteria: store.getters.getSubOperation.type,\n        }\n      })\n      .then( response => {\n        homePage.reset();\n        const filteredEmails = response.data.slice(store.getters.getSubOperation.start, store.getters.getSubOperation.start +15);\n        homePage.addEmails(filteredEmails);\n        this.updateEmails(filteredEmails);\n      })\n      .catch( error => console.log(error)); \n    },\n    fetchSortedEmails(){\n      const homePage = store.getters.getHomePage;\n      axios.get(`http://localhost:8080//sort`, {\n        params: { \n          userId: store.getters.getUserId,\n          folderName: store.getters.getActiveFolder,\n          sortType: store.getters.getSubOperation.sortType,\n          sortIdntifier: store.getters.getSubOperation.sortIdntifier,\n        }\n      })\n      .then( response => {\n        homePage.reset();\n        const sortedEmails = response.data.slice(store.getters.getSubOperation.start, store.getters.getSubOperation.start +15);\n        homePage.addEmails(sortedEmails);\n        this.updateEmails(sortedEmails);\n      })\n      .catch( error => console.log(error)); \n    },\n    fetchSearchedEmail(){\n      const homePage = store.getters.getHomePage;\n      axios.get(`http://localhost:8080//searchFile`, {\n        params: { \n          userId: store.getters.getUserId,\n          required: store.getters.getSubOperation.word,\n          folderName: store.getters.getActiveFolder,\n          criteria: store.getters.getSubOperation.searchBy,\n        }\n      })\n      .then( response => {\n        homePage.reset();\n        const result = response.data.slice(store.getters.getSubOperation.start, store.getters.getSubOperation.start +15);\n        homePage.addEmails(result);\n        this.updateEmails(result);\n      })\n      .catch( error => console.log(error)); \n    },\n    updateEmailsList(){\n      const homePage = store.getters.getHomePage;\n      axios.get(`http://localhost:8080//getEmailsList`, {\n        params: { \n          userId: this.getUserId,\n          folderName: this.getActiveFolder,\n          sortType: 1,\n          sortIdntifier: 0,\n          start: this.getStartIndex,\n        }\n      })\n      .then( response => {\n        homePage.reset();\n        homePage.addEmails(response.data);\n        this.updateEmails(response.data);\n      })\n      .catch( error => console.log(error)); \n    },\n    goBackHome(){\n      store.commit('setActiveEmail', false)\n    },\n    deleteCurrentEmails(){\n      const selectedEmailsNumber = this.getSelectedEmails.length;\n      console.log(selectedEmailsNumber);\n      if(selectedEmailsNumber === 0) return;\n      console.log(\"enter\")\n\n      const popUpBackground = document.createElement('div');\n      popUpBackground.className = 'pop-up-background';\n      document.body.appendChild(popUpBackground);\n\n      const popUp = document.createElement('div');\n      popUp.className = 'pop-up';\n      popUpBackground.appendChild(popUp);\n\n      const msg = document.createElement('h2');\n      if(store.getters.getActiveFolder == \"trash\") msg.innerText = `${selectedEmailsNumber} will be deleted permanently`;\n      else msg.innerText = `Sure to move ${selectedEmailsNumber} email(s) to Trash?`;\n      popUp.appendChild(msg);\n\n      const cancelBtn = document.createElement('span');\n      cancelBtn.innerText = 'Cancel';\n      cancelBtn.className = 'pop-up-close-button cancel-btn';\n\n      const confrimBtn = document.createElement('span');\n      confrimBtn.innerText = 'Confirm';\n      confrimBtn.className = 'pop-up-close-button confrim-btn';   \n\n      cancelBtn.onclick = () => {    \n        document.body.removeChild(popUpBackground); \n      }\n\n      confrimBtn.onclick = () => {\n        if(store.getters.getActiveFolder != \"trash\") {\n          this.deleteAllSelectedEmails();\n          fireInfoPopUp(`${selectedEmailsNumber} email(s) has been moved to trash`);\n        }\n        else {\n          this.deleteAllSelectedEmailsForever();\n          fireInfoPopUp(`${selectedEmailsNumber} email(s) has been deleted permanently`);\n        }\n        document.body.removeChild(popUpBackground); \n      }\n\n      popUp.appendChild(cancelBtn);\n      popUp.appendChild(confrimBtn);\n    },\n\n    deleteAllSelectedEmailsForever(){\n      for(const email of this.getSelectedEmails){\n        console.log(email);\n        this.deleteSingleEmailForEver(email);\n      }\n      store.commit('clearSelecteEmails');\n    },\n    deleteAllSelectedEmails(){\n      let allEmailsIds = \"\";\n      let first = true;\n      for(const email of this.getSelectedEmails){\n        if(first){\n          allEmailsIds += `${email.getId()}`;\n          first = false;\n        }\n        else allEmailsIds += `,${email.getId()}`;\n      }\n\n      axios.delete(`http://localhost:8080//deleteMultipleEmails`,{\n          params: { \n            userId: store.getters.getUserId,\n            emailsIds: allEmailsIds,\n            folderName: store.getters.getActiveFolder,\n          }\n        })\n        .then( () => {\n          store.commit('clearSelecteEmails');\n          this.refresh();\n        })\n        .catch( error => console.log(error)); \n    },\n    deleteSingleEmailForEver(email){\n      axios.delete(`http://localhost:8080//deleteForever`,{\n          params: { \n            userId: store.getters.getUserId,\n            emailId: email.getId(),\n          }\n        })\n        .then( () => {\n          this.refresh();\n        })\n        .catch( error => console.log(error)); \n    },\n\t}\n}\n</script>\n\n<style scoped>\n.control-wrapper{\n  display: flex;\n\tflex-direction: row;\n\tjustify-content: flex-start;\n\talign-items: center;\n\theight: 3rem;\n\tborder-bottom: 1px solid rgb(224, 224, 224, 0.6);\n\tpadding-left: 1rem;\n  width: 100%;\n}\n\n.control-btn{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 2rem;\n\twidth: 2rem;\n\tborder-radius: 50%;\n  user-select: none;\n}\n.control-btn:hover{\n\tbackground-color: rgb(224, 224, 224, 0.6);\n}\n#emails-nav{\n\theight: 2rem;\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n\talign-items: center;\n\twidth: 5rem;\n\tmargin-left: auto;\n\tmargin-right: 2rem;\n}\n\ninput[type=checkbox] + label {\n  display: block;\n\tuser-select: none;\n}\n\ninput[type=checkbox] {\n  display: none;\n}\nlabel{\n\tcolor: #767676;\n\tfont-size: medium;\n\tfont-weight: normal;\n}\n\ninput[type=checkbox] + label:before {\n  content: \"\\2714\";\n  border: 2px solid #767676;\n  border-radius: 0.3rem;\n  display: inline-block;\n  width: 0.8rem;\n  height: 0.8rem;\n  padding: 0.2rem;\n  margin-right: 0.4rem;\n  vertical-align: bottom;\n  color: transparent;\n  transition: .2s;\n}\n\ninput[type=checkbox] + label:active:before {\n  transform: scale(0);\n}\n\ninput[type=checkbox]:checked + label:before {\n  background-color: #3474E0;\n  border-color: #3474E0;\n}\n\ninput[type=checkbox]:disabled + label:before {\n  transform: scale(1);\n  border-color: #767676;\n}\n\ninput[type=checkbox]:checked:disabled + label:before {\n  transform: scale(1);\n  background-color: #3474E0;\n  border-color: #3474E0;\n}\n\n#select-all-container{\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin-left: 1.5rem;\n}\n\n.hidden{\n  visibility: hidden;\n  display: none;\n}\n.visible{\n  visibility: visible;\n  display: flex;\n}\n\n#delete-current-email{\n  margin-left: auto;\n  margin-right: 3rem;\n}\n\n#delete-selected-emails{\n  margin-left: 2rem;\n}\n</style>"]}]}