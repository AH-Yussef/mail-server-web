{"remainingRequest":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/babel-loader/lib/index.js!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/src/components/sideMenu/folder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/src/components/sideMenu/folder.vue","mtime":1608646942441},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/alihassan/The_LOL/Projects/collage_related/SecondYear/programming2/mail-server-web/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImN1c3RvbUZvbGRlciIsCiAgcHJvcHM6IHsKICAgIGV4aXN0aW5nRm9sZGVyTmFtZTogU3RyaW5nLAogICAgY3VzdG9tRm9sZGVyTnVtYmVyOiBOdW1iZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb2xkZXJJZDogIm5ldy1jdXN0b20tZm9sZGVyIiwKICAgICAgc2V0OiBmYWxzZSwKICAgICAgZm9sZGVyTmFtZTogIk5ldyBmb2xkZXIiLAogICAgICBGb3JiaWRkZW5Gb2xkZXJOYW1lczogWyJzZW50IiwgImluYm94IiwgImRyYWZ0IiwgInRyYXNoIiwgImNvbnRhY3RzIl0sCiAgICAgIG1vdXNlT246IGZhbHNlLAogICAgICBlbmFibGVkQWN0aW9uc01lbnU6IGZhbHNlLAogICAgICBpc0JlaW5nRWRpdGVkOiBmYWxzZSwKICAgICAgYWN0aW9uc01lbnVWaXNpYmxlOiBmYWxzZSwKICAgICAgZm9jdXNlZDogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRGb2xkZXJOYW1lOiBmdW5jdGlvbiBzZXRGb2xkZXJOYW1lKCkgewogICAgICBpZiAodGhpcy5Gb3JiaWRkZW5Gb2xkZXJOYW1lcy5pbmNsdWRlcyh0aGlzLmZvbGRlck5hbWUudG9Mb3dlckNhc2UoKSkpIHsKICAgICAgICB0aGlzLmZvbGRlck5hbWUgPSAiIjsgLy9zaG93IGVycm9yIG1zZwogICAgICB9CgogICAgICB0aGlzLmZvbGRlcklkID0gdGhpcy5mb2xkZXJOYW1lOwogICAgICB0aGlzLmlzQmVpbmdFZGl0ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5zZXQgPSB0cnVlOwogICAgfSwKICAgIGNoYW5nZUZvbGRlck5hbWU6IGZ1bmN0aW9uIGNoYW5nZUZvbGRlck5hbWUoKSB7CiAgICAgIHRoaXMuYWN0aW9uc01lbnVWaXNpYmxlID0gZmFsc2U7CiAgICAgIHZhciBmb2xkZXJOYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZm9sZGVyLW5hbWUtIi5jb25jYXQodGhpcy5mb2xkZXJJZCkpOwogICAgICB0aGlzLmlzQmVpbmdFZGl0ZWQgPSB0cnVlOwogICAgICBmb2xkZXJOYW1lSW5wdXQuZm9jdXMoKTsKICAgIH0sCiAgICByZW1vdmVGb2xkZXI6IGZ1bmN0aW9uIHJlbW92ZUZvbGRlcigpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5mb2xkZXJJZCkucmVtb3ZlKCk7CiAgICB9LAogICAgdG9nZ2xlQWN0aW9uc01lbnU6IGZ1bmN0aW9uIHRvZ2dsZUFjdGlvbnNNZW51KCkgewogICAgICB2YXIgZm9sZGVyTmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvbGRlci1uYW1lLSIuY29uY2F0KHRoaXMuZm9sZGVySWQpKTsKICAgICAgZm9sZGVyTmFtZUlucHV0LmRpc2FibGVkID0gdHJ1ZTsKICAgICAgdGhpcy5hY3Rpb25zTWVudVZpc2libGUgPSAhdGhpcy5hY3Rpb25zTWVudVZpc2libGU7CiAgICB9LAogICAgc2hvd0VtYWlsczogZnVuY3Rpb24gc2hvd0VtYWlscygpIHsKICAgICAgdmFyIGl0ZW1DbGlja2VkID0gZXZlbnQudGFyZ2V0OwogICAgICBpZiAoaXRlbUNsaWNrZWQuaWQgIT09IHRoaXMuZm9sZGVySWQgJiYgaXRlbUNsaWNrZWQuaWQgIT09ICJmb2xkZXItbmFtZS0iLmNvbmNhdCh0aGlzLmZvbGRlcklkKSkgcmV0dXJuOwogICAgICB0aGlzLmZvY3VzZWQgPSAhdGhpcy5mb2N1c2VkOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgaWYgKHRoaXMuZXhpc3RpbmdGb2xkZXJOYW1lICE9PSBudWxsKSB7CiAgICAgIHRoaXMuZm9sZGVySWQgPSB0aGlzLmV4aXN0aW5nRm9sZGVyTmFtZTsKICAgICAgdGhpcy5mb2xkZXJOYW1lID0gdGhpcy5leGlzdGluZ0ZvbGRlck5hbWU7CiAgICAgIHRoaXMuZW5hYmxlZEFjdGlvbnNNZW51ID0gdHJ1ZTsKICAgICAgdGhpcy5zZXQgPSB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5mb2xkZXJOYW1lICs9IHRoaXMuY3VzdG9tRm9sZGVyTnVtYmVyOwogICAgICB0aGlzLmlzQmVpbmdFZGl0ZWQgPSB0cnVlOwogICAgICB0aGlzLmVuYWJsZWRBY3Rpb25zTWVudSA9IGZhbHNlOwogICAgICB0aGlzLm1vdXNlT24gPSB0cnVlOwogICAgfQoKICAgIGRvY3VtZW50Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChfdGhpcy5tb3VzZU9uIHx8ICFfdGhpcy5pc0JlaW5nRWRpdGVkIHx8IF90aGlzLnNldCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgX3RoaXMuc2V0Rm9sZGVyTmFtZSgpOwogICAgfTsKICB9Cn07"},{"version":3,"sources":["folder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAoBA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,kBAAA,EAAA,MADA;AAEA,IAAA,kBAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,mBADA;AAEA,MAAA,GAAA,EAAA,KAFA;AAGA,MAAA,UAAA,EAAA,YAHA;AAIA,MAAA,oBAAA,EAAA,CAAA,MAAA,EAAA,OAAA,EAAA,OAAA,EAAA,OAAA,EAAA,UAAA,CAJA;AAKA,MAAA,OAAA,EAAA,KALA;AAMA,MAAA,kBAAA,EAAA,KANA;AAOA,MAAA,aAAA,EAAA,KAPA;AAQA,MAAA,kBAAA,EAAA,KARA;AASA,MAAA,OAAA,EAAA;AATA,KAAA;AAWA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,UAAA,KAAA,oBAAA,CAAA,QAAA,CAAA,KAAA,UAAA,CAAA,WAAA,EAAA,CAAA,EAAA;AACA,aAAA,UAAA,GAAA,EAAA,CADA,CAEA;AACA;;AACA,WAAA,QAAA,GAAA,KAAA,UAAA;AACA,WAAA,aAAA,GAAA,KAAA;AACA,WAAA,GAAA,GAAA,IAAA;AACA,KATA;AAUA,IAAA,gBAVA,8BAUA;AACA,WAAA,kBAAA,GAAA,KAAA;AACA,UAAA,eAAA,GAAA,QAAA,CAAA,cAAA,uBAAA,KAAA,QAAA,EAAA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,MAAA,eAAA,CAAA,KAAA;AACA,KAfA;AAgBA,IAAA,YAhBA,0BAgBA;AACA,MAAA,QAAA,CAAA,cAAA,CAAA,KAAA,QAAA,EAAA,MAAA;AACA,KAlBA;AAmBA,IAAA,iBAnBA,+BAmBA;AACA,UAAA,eAAA,GAAA,QAAA,CAAA,cAAA,uBAAA,KAAA,QAAA,EAAA;AACA,MAAA,eAAA,CAAA,QAAA,GAAA,IAAA;AACA,WAAA,kBAAA,GAAA,CAAA,KAAA,kBAAA;AACA,KAvBA;AAwBA,IAAA,UAxBA,wBAwBA;AACA,UAAA,WAAA,GAAA,KAAA,CAAA,MAAA;AACA,UAAA,WAAA,CAAA,EAAA,KAAA,KAAA,QAAA,IAAA,WAAA,CAAA,EAAA,2BAAA,KAAA,QAAA,CAAA,EAAA;AACA,WAAA,OAAA,GAAA,CAAA,KAAA,OAAA;AACA;AA5BA,GAnBA;AAiDA,EAAA,OAjDA,qBAiDA;AAAA;;AACA,QAAA,KAAA,kBAAA,KAAA,IAAA,EAAA;AACA,WAAA,QAAA,GAAA,KAAA,kBAAA;AACA,WAAA,UAAA,GAAA,KAAA,kBAAA;AACA,WAAA,kBAAA,GAAA,IAAA;AACA,WAAA,GAAA,GAAA,IAAA;AACA,KALA,MAMA;AACA,WAAA,UAAA,IAAA,KAAA,kBAAA;AACA,WAAA,aAAA,GAAA,IAAA;AACA,WAAA,kBAAA,GAAA,KAAA;AACA,WAAA,OAAA,GAAA,IAAA;AACA;;AACA,IAAA,QAAA,CAAA,OAAA,GAAA,YAAA;AACA,UAAA,KAAA,CAAA,OAAA,IAAA,CAAA,KAAA,CAAA,aAAA,IAAA,KAAA,CAAA,GAAA,EAAA;AACA;AACA;;AACA,MAAA,KAAA,CAAA,aAAA;AACA,KALA;AAMA;AApEA,CAAA","sourcesContent":["<template>\n  <div  :id=\"folderId\" :class=\"['custom-folder', (focused && set) ? 'focused': 'unfocused']\" \n        @mouseover=\"mouseOn = true\" \n        @mouseleave=\"mouseOn = false\"\n        @click=\"showEmails()\">\n    <div  :class=\"['actions-btn', enabledActionsMenu ? 'enabled' : 'disabled', mouseOn ? 'icon-visible': 'icon-hidden']\"\n          @click=\"toggleActionsMenu()\">\n      <img src=\"../../assets/sideMenu/actions.png\" width=\"16px\">\n    </div>\n    <input  type=\"text\" :id=\"`folder-name-${folderId}`\" \n            :class=\"['folder-name', focused&&set ? 'bold': 'normal']\"  @keyup.enter=\"setFolderName()\" \n            :disabled=\"!isBeingEdited\" maxlength=\"13\" v-model=\"folderName\">\n    <div :class=\"['actions-menu', actionsMenuVisible ? 'visible': 'hidden']\" >\n      <div class=\"menu-item\" @click=\"changeFolderName()\">rename</div>\n      <div class=\"menu-item\" @click=\"removeFolder()\">delete</div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"customFolder\",\n  props: {\n    existingFolderName: String,\n    customFolderNumber: Number,\n  },\n  data(){\n    return{\n      folderId: \"new-custom-folder\",\n      set: false,\n      folderName: \"New folder\",\n      ForbiddenFolderNames: [\"sent\", \"inbox\", \"draft\", \"trash\", \"contacts\"],\n      mouseOn: false,\n      enabledActionsMenu: false,\n      isBeingEdited: false,\n      actionsMenuVisible: false,\n      focused: false,\n    }\n  },\n  methods:{\n    setFolderName(){\n      if(this.ForbiddenFolderNames.includes(this.folderName.toLowerCase())){\n        this.folderName = \"\";\n        //show error msg\n      }\n      this.folderId = this.folderName;\n      this.isBeingEdited = false;\n      this.set = true;\n    },\n    changeFolderName(){\n      this.actionsMenuVisible = false;\n      const folderNameInput = document.getElementById(`folder-name-${this.folderId}`);\n      this.isBeingEdited = true;\n      folderNameInput.focus();\n    },\n    removeFolder(){\n      document.getElementById(this.folderId).remove();\n    },\n    toggleActionsMenu(){\n      const folderNameInput = document.getElementById(`folder-name-${this.folderId}`);\n      folderNameInput.disabled = true;\n      this.actionsMenuVisible = !this.actionsMenuVisible;\n    },\n    showEmails(){\n      let itemClicked = event.target;\n      if(itemClicked.id !== this.folderId && itemClicked.id !== `folder-name-${this.folderId}`) return;\n      this.focused = !this.focused;\n    }\n  },\n  mounted(){\n    if(this.existingFolderName !== null){\n      this.folderId = this.existingFolderName;\n      this.folderName = this.existingFolderName;\n      this.enabledActionsMenu = true;\n      this.set = true;\n    }\n    else {\n      this.folderName += this.customFolderNumber;\n      this.isBeingEdited = true; \n      this.enabledActionsMenu = false;\n      this.mouseOn = true;\n    }\n    document.onclick = () => {\n      if(this.mouseOn || !this.isBeingEdited || this.set) {\n        return;\n      }\n      this.setFolderName();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.custom-folder{\n  user-select: none;\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: center;\n\theight: 2rem;\n\twidth: 100%;\n\tpadding-left: 3rem;\n}\n.custom-folder:hover{\n\tbackground-color: rgb(224, 224, 224);\n}\n\n.actions-btn{\n  width: 1.5rem;\n  height: 1.5rem;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.actions-btn:hover{\n  background-color: rgb(211, 210, 210);\n}\n\n.disabled{\n  pointer-events: none;\n}\n.enabled{\n  pointer-events: all;\n}\n\n\n.folder-name{\n  box-sizing: border-box;\n  border: none;\n  height: 1.5rem;\n  margin-left: 1rem;\n  width: 50%;\n  font-size: medium;\n  color: #767676;\n  background-color: transparent;\n}\n\ninput[type=text]:focus{\n  outline-style: none;\n  border: none;\n}\n\n.actions-menu{\n  position: absolute;\n  margin-top: 5rem;\n  width: 50%;\n  height: 4rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n  z-index: 2;\n  box-shadow: 3px 4px 5px 1px rgb(224, 224, 224);\n}\n\n.menu-item{\n  width: 100%;\n  height: 2rem;\n  border-bottom: 1px solid rgb(224, 224, 224);\n  text-align: center;\n  vertical-align: middle;\n  line-height: 2rem;\n}\n.menu-item:hover{\n  background-color: rgb(224, 224, 224);\n}\n\n.visible{\n  visibility: visible;\n  display: flex;\n}\n.icon-viisble{\n  visibility: visible;\n}\n.hidden{\n  visibility: hidden;\n  display: none;\n}\n.icon-hidden{\n  visibility: hidden;\n}\n\n.focused{\n  background-color: rgb(209, 206, 206);\n}\n.unfocused{\n  background-color: white;\n}\n\n.bold{\n  font-weight: bold;\n}\n.normal{\n  font-weight: normal;\n}\n</style>"],"sourceRoot":"src/components/sideMenu"}]}